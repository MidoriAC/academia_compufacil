<a class="close_side_menu" href="javascript:void(0);"></a>

<div class="rbt-page-banner-wrapper" *ngIf="courses_selected">
  <!-- Start Banner BG Image  -->
  <div class="rbt-banner-image"></div>
  <!-- End Banner BG Image  -->
  <div class="rbt-banner-content">
    <!-- Start Banner Content Top  -->
    <div class="rbt-banner-content-top rbt-breadcrumb-style-3">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 offset-lg-2">
            <div class="content text-center">
              <div
                class="d-flex align-items-center flex-wrap justify-content-center mb--15 rbt-course-details-feature"
              >
                <!-- Componenete para ver clases del curso -->
                <div class="feature-sin total-student">
                  <span>{{ courses_selected.count_students }} estudiantes</span>
                </div>
              </div>
              <h2 class="title theme-gradient">{{ courses_selected.title }}</h2>

              <div class="rbt-author-meta mb--20 justify-content-center">
                <div class="rbt-avater">
                  <a>
                    <img
                      [src]="courses_selected.instructor.avatar"
                      alt="Sophia Jaymes"
                    />
                  </a>
                </div>
                <div class="rbt-author-info">
                  By
                  <a onclick="return false;">{{
                    courses_selected.instructor.full_name
                  }}</a>
                  In <a>{{ courses_selected.instructor.profesion }}</a>
                </div>
              </div>

              <ul class="rbt-meta">
                <li>
                  <i class="feather-calendar"></i>Last updated
                  {{ courses_selected.updated_at }}
                </li>
                <li>
                  <i class="feather-globe"></i>{{ courses_selected.idioma }}
                </li>
                <li><i class="feather-award"></i>Certified Course</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End Banner Content Top  -->
  </div>
</div>

<div
  class="rbt-section-overlayping-top rbt-section-gapBottom"
  *ngIf="courses_selected"
>
  <div class="inner">
    <div class="container">
      <div class="col-lg-12">
        <ng-container *ngIf="clase_selected">
          <iframe
            style="width: 100%"
            height="800"
            [src]="urlVideo(clase_selected)"
            [title]="clase_selected.name"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen
          >
          </iframe>
        </ng-container>

        <!-- End Viedo Wrapper  -->

        <div class="row row--30 gy-5 pt--60 justify-content-center">
          <div class="col-lg-8">
            <!-- Start Course Details  -->
            <div class="course-details-content">
              <div class="rbt-inner-onepage-navigation sticky-top">
                <nav class="mainmenu-nav onepagenav">
                  <ul class="mainmenu">
                    <li class="current">
                      <h1>Contenido del curso</h1>
                    </li>
                  </ul>
                </nav>
              </div>

              <!-- Start Course Content  -->
              <div
                class="course-content rbt-shadow-box coursecontent-wrapper mt--30 has-show-more"
                id="coursecontent"
              >
                <div class="rbt-course-feature-inner">
                  <div class="section-title">
                    <h4 class="rbt-title-style-3">Course Content</h4>
                  </div>
                  <div class="rbt-accordion-style rbt-accordion-02 accordion">
                    <div class="accordion" id="accordionExampleb2">
                      <ng-container
                        *ngFor="
                          let section of courses_selected.malla;
                          let i = index
                        "
                      >
                        <div class="accordion-item card">
                          <h2
                            class="accordion-header card-header"
                            id="headingTwo1"
                          >
                            <button
                              class="accordion-button"
                              [ngClass]="{ collapsed: i != 0 }"
                              type="button"
                              data-bs-toggle="collapse"
                              [attr.data-bs-target]="
                                '#collapseTwo' + section.id
                              "
                              aria-expanded="true"
                              [attr.aria-controls]="'#collapseTwo' + section.id"
                            >
                              {{ section.name }}
                              <span class="rbt-badge-5 ml--10">{{
                                section.time_section
                              }}</span>
                            </button>
                          </h2>
                          <div
                            [attr.id]="'collapseTwo' + section.id"
                            class="accordion-collapse collapse"
                            [ngClass]="{ show: i == 0 }"
                            aria-labelledby="headingTwo1"
                            data-bs-parent="#accordionExampleb2"
                          >
                            <div class="accordion-body card-body pr--0">
                              <ul class="rbt-course-main-content liststyle">
                                <ng-container
                                  *ngFor="let clase of section.clases"
                                >
                                  <li>
                                    <a
                                      href="#"
                                      onclick="return false;"
                                      (click)="openClase(clase)"
                                    >
                                      <div class="course-content-left">
                                        <i class="feather-play-circle"></i>
                                        <span class="text">{{
                                          clase.name
                                        }}</span>
                                      </div>
                                      <div class="course-content-right">
                                        <span class="min-lable">{{
                                          clase.time_clase
                                        }}</span>
                                        <span
                                          class="rbt-badge variation-03 bg-primary-opacity"
                                        >
                                          <i class="feather-eye"></i>
                                          Preview</span
                                        >
                                      </div>
                                    </a>
                                  </li>
                                </ng-container>
                              </ul>
                            </div>
                          </div>
                        </div>
                      </ng-container>
                    </div>
                  </div>
                </div>
              </div>
              <!-- End Course Content  -->

              <!-- ... (código existente) ... -->

              <!-- Mostrar progreso del curso -->
              <!-- <div class="progress mt-4">
                <div
                  class="progress-bar"
                  role="progressbar"
                  [style.width]="progress + '%'"
                  [attr.aria-valuenow]="progress"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >
                  {{ progress | number : "1.0-0" }}%
                </div>
              </div>
              <p class="mt-2">
                Clases completadas: {{ completedClasses }} de {{ totalClasses }}
              </p> -->

              <!-- Start Course Resource  -->
              <div
                class="course-content rbt-shadow-box coursecontent-wrapper mt--30 has-show-more"
                id="coursepdf"
              >
                <div class="rbt-course-feature-inner">
                  <div class="section-title">
                    <h4 class="rbt-title-style-3">Recursos</h4>
                  </div>
                  <div class="row" *ngIf="clase_selected">
                    <ng-container *ngFor="let file of clase_selected.files">
                      <div class="col-6">
                        <div class="course-content-left">
                          <a [href]="file.url">
                            <i class="feather-file-text"></i>
                            <span class="text"
                              >{{ file.name }} ({{ file.size }})</span
                            >
                          </a>
                        </div>
                      </div>
                    </ng-container>
                  </div>
                </div>
              </div>
              <!-- End Course Resource  -->

              <!-- Formulario para subir actividades -->
              <div class="mt-4" *ngIf="clase_selected">
                <h4>Subir actividad para: {{ clase_selected.name }}</h4>
                <div class="form-group">
                  <input
                    type="file"
                    class="form-control-file"
                    (change)="onFileSelected($event)"
                  />
                </div>
                <div class="form-group">
                  <textarea
                    class="form-control"
                    rows="3"
                    placeholder="Comentarios"
                    [(ngModel)]="activityComments"
                  ></textarea>
                </div>
                <button class="btn btn-primary" (click)="uploadActivity()">
                  Subir Actividad
                </button>
              </div>

              <!-- Start Course Feature Box  -->
              <div
                class="rbt-course-feature-box overview-wrapper rbt-shadow-box mt--30"
                id="overview"
              >
                <div
                  class="rbt-course-feature-inner has-show-more-inner-content"
                  [innerHtml]="courses_selected.description"
                ></div>
                <!-- <div class="rbt-show-more-btn">Show More</div> -->
              </div>
              <!-- End Course Feature Box  -->

              <!-- Start Course Feature Box  -->
              <div
                class="rbt-course-feature-box rbt-shadow-box details-wrapper mt--30"
                id="details"
              >
                <div class="row g-5">
                  <div class="col-lg-6">
                    <div class="section-title">
                      <h4 class="rbt-title-style-3 mb--20">Requirements</h4>
                    </div>
                    <ul class="rbt-list-style-1">
                      <ng-container
                        *ngFor="
                          let requirement of courses_selected.requirements
                        "
                      >
                        <li><i class="feather-check"></i>{{ requirement }}</li>
                      </ng-container>
                    </ul>
                  </div>
                  <!-- End Feture Box  -->

                  <!-- Start Feture Box  -->
                  <div class="col-lg-6">
                    <div class="section-title">
                      <h4 class="rbt-title-style-3 mb--20">
                        ¿Para quien esta dirigido?
                      </h4>
                    </div>
                    <ul class="rbt-list-style-1">
                      <ng-container
                        *ngFor="
                          let who_is_it_f of courses_selected.who_is_it_for
                        "
                      >
                        <li><i class="feather-check"></i>{{ who_is_it_f }}</li>
                      </ng-container>
                    </ul>
                  </div>
                </div>
              </div>
              <!-- End Course Feature Box  -->

              <!-- Start Intructor Area  -->
              <div
                class="rbt-instructor rbt-shadow-box intructor-wrapper mt--30"
                id="intructor"
              >
                <div class="about-author border-0 pb--0 pt--0">
                  <div class="section-title mb--30">
                    <h4 class="rbt-title-style-3">Instructor</h4>
                  </div>
                  <div class="media align-items-center">
                    <div class="thumbnail">
                      <a href="#">
                        <img
                          [src]="courses_selected.instructor.avatar"
                          alt="Author Images"
                        />
                      </a>
                    </div>
                    <div class="media-body">
                      <div class="author-info">
                        <h5 class="title">
                          <a
                            class="hover-flip-item-wrapper"
                            href="#"
                            onclick="return false;"
                            >{{ courses_selected.instructor.full_name }}</a
                          >
                        </h5>
                        <span class="b3 subtitle">{{
                          courses_selected.instructor.profesion
                        }}</span>
                        <ul class="rbt-meta mb--20 mt--10">
                          <li>
                            <i class="feather-users"></i
                            >{{ courses_selected.instructor.count_students }}
                            Students
                          </li>
                          <li>
                            <a href="#"
                              ><i class="feather-video"></i
                              >{{
                                courses_selected.instructor.courses_count
                              }}
                              Courses</a
                            >
                          </li>
                        </ul>
                      </div>
                      <div class="content">
                        <p class="description">
                          {{ courses_selected.instructor.description }}
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- End Intructor Area  -->
            </div>
            <!-- End Course Details  -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- End Course Action Bottom  -->
<div class="rbt-separator-mid">
  <div class="container">
    <hr class="rbt-separator m-0" />
  </div>
</div>
